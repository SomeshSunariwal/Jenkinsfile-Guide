pipeline {
    
    agent any

    environment {
        // Setting the variable to env
        // passcode = credentials('default-test-id')
        VERSION = '1.0'
    }
    // user name and passcode can access using ${passcode_USR} or ${passcode_PSW}

    stages {
        stage("Build"){
            steps{
                echo "Checking Version . . ."
                echo "Version ${Version}"
            }
        }   
        stage("require credentials here only"){
            steps{
                
                echo "Getting Crential First Here"
                echo "when we require credentials in one step one"

                withCredentials([
                    usernamePassword(credentialsId: 'default-test-id', usernameVariable: 'USER', passwordVariable: 'PWD')
                ]) {
                    // Never echo User Name Password
                    // Only for Test
                    echo "userName : $USER, Password: $PWD"
                }
            }
        }   
    }
}