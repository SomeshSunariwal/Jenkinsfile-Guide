pipeline {
    
    agent any

    environment {
        // Setting the variable to env
        passcode = credentials('default-test-id')
    }

    stages {
        stage("Build"){
            steps{
                echo "Checking Version . . ."
                echo "Version is ${passcode}"
            }
        }   
        stage("require credentials here only"){
            steps{
                echo "Getting Crential First Here"
                echo "when we require credentials in one step one"
                withCredentials([
                    usernamePassword(credentials: 'default-test-id', usernameVariable: userName, passwordVariable: password)
                ]) {
                    echo "userName : ${userName}, Password: ${password}"
                }
            }
        }   
    }
}